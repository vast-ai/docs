---
title: Permissions and Authorization
createdAt: Tue Jan 14 2025 02:09:39 GMT+0000 (Coordinated Universal Time)
updatedAt: Tue Apr 29 2025 16:45:10 GMT+0000 (Coordinated Universal Time)
---

<script type="application/ld+json" dangerouslySetInnerHTML={{
  __html: JSON.stringify({
    "@context": "https://schema.org",
    "@type": "HowTo",
    "name": "How to Manage API Keys and Permissions on Vast.ai",
    "description": "A guide to creating API keys with restricted permissions and managing access control for your Vast.ai account and teams.",
    "step": [
      {
        "@type": "HowToStep",
        "name": "Understand Permission Categories",
        "text": "Every API Key has a list of permissions associated with it. Permission categories include: instance_read, instance_write, user_read, user_write, billing_read, billing_write, machine_read, machine_write, misc, team_read, and team_write. Each category controls access to specific API endpoints and operations."
      },
      {
        "@type": "HowToStep",
        "name": "Create Custom Roles",
        "text": "Custom roles can be created and managed through the CLI. Team roles can be managed on the Manage page by users with team_read level access. When creating a custom role, select from a wide range of permissions such as instance creation, billing access, monitoring, etc. This allows for precise control over what each role can and cannot do."
      },
      {
        "@type": "HowToStep",
        "name": "Define Permission JSON",
        "text": "Create a JSON file defining the permissions. For example, to allow instance creation and billing access: {\"api\": {\"misc\": {}, \"user_read\":{}, \"instance_read\": {}, \"instance_write\": {}, \"billing_read\": {}, \"billing_write\": {}}}. For restricted access without billing: {\"api\": {\"misc\": {}, \"user_read\":{}, \"instance_read\": {}, \"instance_write\": {}}}."
      },
      {
        "@type": "HowToStep",
        "name": "Add Constraints (Optional)",
        "text": "Constraints can be added at different levels to enforce certain parameters. You can use wildcards to represent placeholder values. For example, to restrict access to specific instance IDs, add constraints in the permission JSON with operators like eq, lte, gte."
      },
      {
        "@type": "HowToStep",
        "name": "Assign Custom Roles",
        "text": "Once a custom role is created, it can be assigned to team members through the team management interface or CLI commands."
      }
    ]
  })
}} />

# API Endpoints and Permission Categories

This document outlines the various API endpoints and their associated permission categories, providing a clear reference for understanding the access control within our system.

<Note>
**Note:** In the early days we are going to describe these concepts as things like 'instance_read' or 'instance_write', We realize these are confusing. Any questions about what permissions are attributed to what actions should be asked via our support channels.
</Note>

Every API Key has a list of permissions associated with it. Every user has the ability to create keys with restricted permissions on their own account. Users can also create restricted keys in team environments using the team-centric endpoints.

### Creating Custom Roles

- **Accessing Role Management**: Custom roles can be created and managed through the CLI. Team roles can be managed on the 'Manage' page by users with team\_read level access.
- **Defining Permissions**: When creating a custom role, anyone can select from a wide range of permissions, such as instance creation, billing access, monitoring, etc. This allows for precise control over what each role can and cannot do.
- **Assigning Custom Roles**: Once a custom role is created, it can be assigned to team members through the team management interface.

### Important Elements

- **constraints**: Constraints can be added at different levels to enforce certain parameters of the body to be specific values
- **params**: You can use wildcards to represent placeholder values. (Useful if you want to generate many keys all doing similar operations)

### Examples

The following json would create a user that has access to the specified categories. In this instance, someone with these permissions would be able to create an instance as well as access billing information

```json
{
    "api": {
        "misc": {},
        "user_read":{},
        "instance_read": {},
        "instance_write": {},
		"billing_read": {},
		"billing_write": {}
    }
}
```

The following json would create restricted access to only the presented categories. In this example, someone with these permissions would be able to create an instance, but they would not be able to access billing information

```json
{
    "api": {
        "misc": {},
        "user_read":{},
        "instance_read": {},
        "instance_write": {}
    }
}
```

You can see a full list of permission types as well as the endpoints attached to that permission below

## Permission Categories

### instance\_read

- [Show Instance](https://docs.vast.ai/api-reference/instances/show-instance)
- [Show Instances](https://docs.vast.ai/api-reference/instances/show-instances)
- [Show Logs](https://docs.vast.ai/api-reference/instances/show-logs)
- [Show SSH Keys](https://docs.vast.ai/api-reference/instances/show-ssh-keys)
- [Show Volumes](https://docs.vast.ai/api-reference/volumes/list-volumes)
- [Show Deposit](https://docs.vast.ai/api-reference/billing/show-deposit)

The following permissions would allow a user to read the instance logs of instance id 1227 only

```json
{
    "api": {
        "instance_read": {
            "api.instance.request_logs": {
                "constraints": {
                    "id": {
                        "eq": 1227
                    }
                }
            }
        }
    }
}
```

The following permissions would allow a user to read the instance logs of instance id from 1 to 2. Apikeys using this feature have to be created using the CLI call [create api-key](/cli/commands)

```json
{
    "api": {
        "instance_read": {
            "api.instance.request_logs": {
                "constraints": {
                    "id": {
                        "lte": 1,
                        "gte": 2
                    }
                }
            }
        }
    }
}
```

### instance\_write

```json
{
    "api": {
          "instance_write": {}
      }
}
```

- [Attach SSH Key](https://docs.vast.ai/api-reference/instances/attach-ssh-key)
- [Copy](https://docs.vast.ai/api-reference/instances/copy)
- [Cancel Copy](https://docs.vast.ai/api-reference/instances/cancel-copy)
- [Cloud Copy](https://docs.vast.ai/api-reference/instances/cloud-copy)
- [Cancel Sync](https://docs.vast.ai/api-reference/instances/cancel-sync)
- [Change Bid](https://docs.vast.ai/api-reference/instances/change-bid)
- [Create Instance](https://docs.vast.ai/api-reference/instances/create-instance)
- [Manage Instance](https://docs.vast.ai/api-reference/instances/manage-instance)
- [Delete Instance](https://docs.vast.ai/api-reference/instances/destroy-instance)
- [Detach SSH Key](https://docs.vast.ai/api-reference/instances/detach-ssh-key)
- [Execute](https://docs.vast.ai/api-reference/instances/execute)
- [Prepay Instance](https://docs.vast.ai/api-reference/instances/prepay-instance)
- [Reboot Instance](https://docs.vast.ai/api-reference/instances/reboot-instance)
- [Recycle Instance](https://docs.vast.ai/api-reference/instances/recycle-instance)
- [Create Volume](https://docs.vast.ai/api-reference/volumes/rent-volume)
- [Delete Volume](https://docs.vast.ai/api-reference/volumes/delete-volume)

### user\_read

```json
{
    "api": {
          "user_read": {}
      }
}
```

- [Show API Keys](https://docs.vast.ai/api-reference/accounts/show-api-keys)
- [Show Connections](https://docs.vast.ai/api-reference/accounts/show-connections)
- [Show Environment Variables](https://docs.vast.ai/api-reference/accounts/show-env-vars)
- [Show IP Addresses](https://docs.vast.ai/api-reference/accounts/show-ipaddrs)
- [Show SSH Keys](https://docs.vast.ai/api-reference/accounts/show-ssh-keys)
- [Show Subaccounts](https://docs.vast.ai/api-reference/accounts/show-subaccounts)
- [Show User](https://docs.vast.ai/api-reference/accounts/show-user)
- [Search Templates](https://docs.vast.ai/api-reference/search/search-template)

### user\_write

```json
{
    "api": {
          "user_write": {}
      }
}
```

- [Create API Key](https://docs.vast.ai/api-reference/accounts/create-api-key)
- [Delete API Key](https://docs.vast.ai/api-reference/accounts/delete-api-key)
- [Create Environment Variable](https://docs.vast.ai/api-reference/accounts/create-env-var)
- [Update Environment Variable](https://docs.vast.ai/api-reference/accounts/update-env-var)
- [Delete Environment Variable](https://docs.vast.ai/api-reference/accounts/delete-env-var)
- [Create SSH Key](https://docs.vast.ai/api-reference/accounts/create-ssh-key)
- [Update SSH Key](https://docs.vast.ai/api-reference/accounts/update-ssh-key)
- [Delete SSH Key](https://docs.vast.ai/api-reference/accounts/delete-ssh-key)
- [Create Subaccount](https://docs.vast.ai/api-reference/accounts/create-subaccount)
- [Set User](https://docs.vast.ai/api-reference/accounts/set-user)
- [Create Team](https://docs.vast.ai/api-reference/team/create-team)
- [Delete Team](https://docs.vast.ai/api-reference/team/destroy-team)
- [Create Template](https://docs.vast.ai/api-reference/templates/create-template)
- [Edit Template](https://docs.vast.ai/api-reference/templates/edit-template)
- [Delete Template](https://docs.vast.ai/api-reference/templates/delete-template)

### billing\_read

```json
{
    "api": {
          "billing_read": {}
      }
}
```

- [Search Invoices](https://docs.vast.ai/api-reference/billing/search-invoices)
- [Show Invoices](https://docs.vast.ai/api-reference/billing/show-invoices)
- [Show Earnings](https://docs.vast.ai/api-reference/billing/show-earnings)

### billing\_write

```json
{
    "api": {
          "billing_write": {}
      }
}
```

- [Transfer Credit](https://docs.vast.ai/api-reference/accounts/transfer-credit)

### machine\_read

```json
{
    "api": {
          "machine_read": {}
      }
}
```

- [Show Machines](https://docs.vast.ai/api-reference/machines/show-machines)
- [Show Reports](https://docs.vast.ai/api-reference/machines/show-reports)

### machine\_write

```json
{
    "api": {
          "machine_write": {}
      }
}
```

- [Cancel Maintenance](https://docs.vast.ai/api-reference/machines/cancel-maint)
- [Cleanup Machine](https://docs.vast.ai/api-reference/machines/cleanup-machine)
- [List Machine](https://docs.vast.ai/api-reference/machines/list-machine)
- [Remove Default Job](https://docs.vast.ai/api-reference/machines/remove-defjob)
- [Schedule Maintenance](https://docs.vast.ai/api-reference/machines/schedule-maint)
- [Set Default Job](https://docs.vast.ai/api-reference/machines/set-defjob)
- [Set Minimum Bid](https://docs.vast.ai/api-reference/machines/set-min-bid)
- [Unlist Machine](https://docs.vast.ai/api-reference/machines/unlist-machine)
- [Add Network Disk](https://docs.vast.ai/api-reference/network-volumes/add-network-disk)
- [Unlist Network Volume](https://docs.vast.ai/api-reference/network-volumes/unlist-network-volume)
- [Unlist Volume](https://docs.vast.ai/api-reference/volumes/unlist-volume)

### misc

```json
{
    "api": {
          "misc": {}
      }
}
```

- [Search Network Volumes](https://docs.vast.ai/api-reference/network-volumes/search-network-volumes)
- [Show Workergroups](https://docs.vast.ai/api-reference/serverless/show-workergroup)
- [Create Workergroup](https://docs.vast.ai/api-reference/serverless/create-workergroup)
- [Update Workergroup](https://docs.vast.ai/api-reference/serverless/update-workergroup)
- [Delete Workergroup](https://docs.vast.ai/api-reference/serverless/delete-workergroup)
- [Show Endpoints](https://docs.vast.ai/api-reference/serverless/show-endpoints)
- [Create Endpoint](https://docs.vast.ai/api-reference/serverless/create-endpoint)
- [Delete Endpoint](https://docs.vast.ai/api-reference/serverless/delete-endpoint)
- [Search Benchmarks](https://docs.vast.ai/api-reference/search/search-benchmarks)
- [Search Offers](https://docs.vast.ai/api-reference/search/search-offers)
- [Search Volumes](https://docs.vast.ai/api-reference/volumes/search-volumes)

### team\_read

```json
{
    "api": {
          "team_read": {}
      }
}
```

- [Show Team Members](https://docs.vast.ai/api-reference/team/show-team-members)
- [Show Team Role](https://docs.vast.ai/api-reference/team/show-team-role)
- [Show Team Roles](https://docs.vast.ai/api-reference/team/show-team-roles)

### team\_write

```json
{
    "api": {
          "team_write": {}
      }
}
```

- [Invite Team Member](https://docs.vast.ai/api-reference/team/invite-team-member)
- [Remove Team Member](https://docs.vast.ai/api-reference/team/remove-team-member)
- [Create Team Role](https://docs.vast.ai/api-reference/team/create-team-role)
- [Update Team Role](https://docs.vast.ai/api-reference/team/update-team-role)
- [Remove Team Role](https://docs.vast.ai/api-reference/team/remove-team-role)